<div th:fragment="navbar">
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
          <a class="navbar-brand" href="/">Cafeteria</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                  <li class="nav-item" id="loginNavItem">
                      <a class="nav-link" href="/login">Login</a>
                  </li>
                  <li class="nav-item" id="registerNavItem">
                      <a class="nav-link" href="/register">Register</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="/public/menu-items/menuItemsPageable">Menu Items</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="#">Contact</a>
                  </li>
                  <button id="logoutButton" 
                  style="display: none;color: #fff; background-color: #3498db; border: 1px solid #f8f9fa;border: 2px solid #3498db;">
                    Logout  
                    </button>
              </ul>
          </div>
      </div>
  </nav>

  <script>
      document.addEventListener('DOMContentLoaded', function() {
          const user = JSON.parse(localStorage.getItem('user'));
          const loginNavItem = document.getElementById('loginNavItem');
          const registerNavItem = document.getElementById('registerNavItem');
            const logoutButton = document.getElementById('logoutButton');

          if (user) {
              loginNavItem.style.display = 'none'; // Hide login link if user is logged in
              registerNavItem.style.display = 'none'; // Hide register link if user is logged in
                logoutButton.style.display = 'block'; // Show logout button if user is logged in
                logoutButton.addEventListener('click', function() {
                    localStorage.removeItem('user');
                    localStorage.removeItem('token');
                    window.location.href = '/login';
                });
          } else {
              loginNavItem.style.display = 'block'; // Show login link if user is not logged in
              registerNavItem.style.display = 'block'; // Show register link if user is not logged in
                logoutButton.style.display = 'none'; // Hide logout button if user is not logged in
          }
      });
  </script>
</div>
